(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6577:function(e,n,t){Promise.resolve().then(t.t.bind(t,8509,23)),Promise.resolve().then(t.bind(t,3047)),Promise.resolve().then(t.t.bind(t,5469,23))},3047:function(e,n,t){"use strict";t.d(n,{default:function(){return c}});var s=t(7573),u=t(5469),a=t.n(u),i=t(7754),r=t(7653);function c(){let e=(0,i.useRouter)(),n=(0,i.usePathname)(),[t,u]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!0),l=async()=>{try{let e=await fetch("/api/auth/me",{credentials:"include"});u(e.ok)}catch(e){u(!1)}finally{o(!1)}};(0,r.useEffect)(()=>{l()},[n]);let h=async()=>{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),u(!1),e.push("/")};return c?(0,s.jsx)("div",{className:"nav-links"}):(0,s.jsx)("div",{className:"nav-links",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a(),{href:"/tasks",children:"Tasks"}),(0,s.jsx)("button",{className:"button secondary nav-logout",onClick:h,children:"Logout"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a(),{href:"/login",children:"Login"}),(0,s.jsx)(a(),{href:"/register",children:"Register"})]})})}},7754:function(e,n,t){"use strict";var s=t(534);t.o(s,"usePathname")&&t.d(n,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(n,{useRouter:function(){return s.useRouter}})},8509:function(){}},function(e){e.O(0,[599,469,293,286,744],function(){return e(e.s=6577)}),_N_E=e.O()}]);